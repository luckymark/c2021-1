#include<cstdio>
#include<stdlib.h>
#include<conio.h>
#define maxn 16
#define maxm 31
using namespace std;

int fl=0;
char mapp[50][50]={{'*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*'},
{'*','&','*','*','*','*','*','*',' ','*','*','*','*','*',' ','*','*',' ','*','*','*',' ','*','*','*','*','*','*','*',' ','*','*'},
{'*',' ',' ',' ',' ',' ',' ',' ',' ','*','*','*','*','*',' ','*','*',' ','*','*','*',' ',' ',' ','*','*','*','*','*',' ','*','*'},
{'*',' ','*','*','*','*','*','*',' ','*','*','*','*','*',' ','*','*',' ','*','*','*','*','*',' ','*','*','*','*',' ',' ','*','*'},
{'*',' ',' ',' ',' ',' ',' ','*',' ',' ',' ',' ',' ',' ',' ','*','*',' ',' ',' ',' ',' ',' ',' ','*','*','*',' ',' ','*','*','*'},
{'*','*','*','*','*','*',' ','*',' ','*','*','*','*','*','*','*','*','*','*','*','*','*','*',' ','*','*','*',' ','*','*','*','*'},
{'*',' ',' ',' ',' ',' ',' ','*',' ','*','*','*','*','*','*','*','*','*','*','*','*','*','*',' ','*','*','*',' ','*','*','*','*'},
{'*',' ','*','*','*','*','*','*',' ','*','*','*','*','*','*','*',' ','*','*','*','*','*','*',' ',' ',' ',' ',' ','*','*','*','*'},
{'*',' ','*','*','*','*','*','*',' ','*','*','*','*','*','*','*',' ','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*'},
{'*',' ',' ',' ',' ',' ',' ','*','*','*','*','*','*','*','*','*',' ','*','*','*','*','*','*','*','*',' ','*','*','*','*','*','*'},
{'*','*','*','*','*','*',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','*','*','*','*','*','*','*','*',' ','*','*','*','*','*','*'},
{'*','*','*','*','*','*',' ','*','*','*','*','*','*','*','*','*',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','*','*','*','*','*','*'},
{'*','*','*','*','*','*',' ','*','*','*','*','*','*','*','*','*',' ','*','*','*','*','*','*','*','*',' ','*','*','*','*','*','*'},
{'*','*','*','*','*','*',' ',' ',' ',' ',' ',' ',' ',' ',' ','*','*','*',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','*'},
{'*','*','*','*','*','*','*','*','*','*','*','*','*','*',' ','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*'},
{'*','*','*','*','*','*','*','*','*','*','*','*','*','*',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','@','*'},
{'*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*','*'},};

int check(int x,int y)
{
	if(x<0||y<0||x>maxn||y>maxm)return 0;
	if(mapp[x][y]=='*')return 0;
	return 1;
}

void change(int &x,int &y,int xx,int yy)
{
	if(mapp[xx][yy]=='@')fl=1;
	mapp[x][y]=' ';mapp[xx][yy]='&';
	x=xx;y=yy;
}

void print()
{
	for(int i=0;i<=16;++i)
	{
		for(int j=0;j<=31;++j)
		printf("%c",mapp[i][j]);
		printf("\n");
	}
}

int main()
{
	print();
	int x=1,y=1,xx,yy;//初始化地址
	while(!fl)
	{
		char op;
		op=getch();
		while(op=='\n')
		op=getch();
		switch (op)
		{
			case 'w':
			{
				xx=x-1;yy=y;
				if(check(xx,yy))
				{
					change(x,y,xx,yy);
					system("cls");
					print();
				}
				break;
			}//向上
			case 'a':
			{
				xx=x;yy=y-1;
				if(check(xx,yy))
				{
					change(x,y,xx,yy);
					system("cls");
					print();
				}
				break;
			}//向左
			case 'd':
			{
				xx=x;yy=y+1;
				if(check(xx,yy))
				{
					change(x,y,xx,yy);
					system("cls");
					print();
				}
				break;
			}//向右
			case 's':
			{
				xx=x+1;yy=y;
				if(check(xx,yy))
				{
					change(x,y,xx,yy);
					system("cls");
					print();
				}
				break;
			}//向下
		}
	}
	printf("You win!");
	return 0;
}
/*
********************************
*&****** ***** ** *** ******* **
*        ***** ** ***   ***** **
* ****** ***** ** ***** ****  **
*      *       **       ***  ***
****** * ************** *** ****
*      * ************** *** ****
* ****** ******* ******     ****
* ****** ******* ***************
*      ********* ******** ******
******           ******** ******
****** *********          ******
****** ********* ******** ******
******         ***             *
************** *****************
**************                @*
********************************
*/